=======================================================================
MITOCHONDRIA SEGMENTATION - DATASET SIZE SUFFICIENCY STUDY
=======================================================================
üî¨ Study: Dataset size requirements for acceptable performance
üìä Testing: 10%, 20%, 50%, 75%, 100% of full dataset (1,980 patches)
‚úÖ Using: FIXED Jaccard implementation

Job started on Mon Sep 29 10:52:54 AM +08 2025
Running on node: GN-A40-078
Job ID: 236816.stdct-mgmt-02
Available GPUs: GPU-88daa3e4-230e-b821-0f0f-c0b6f059c37e
Memory: 503Gi, CPUs: 36

=== STUDY CONFIGURATION ===
üéØ Purpose: Determine minimum dataset size for acceptable results
üìä Full Dataset: ./dataset_full_stack/images/ (1980 patches)
üìà Test Percentages: 10%, 20%, 50%, 75%, 100%
üéØ Acceptable Threshold: Jaccard > 0.8
üèóÔ∏è  Models: UNet, Attention UNet, Attention ResUNet
‚úÖ Implementation: FIXED Jaccard coefficient
üîÑ Training: Up to 100 epochs with early stopping
‚è±Ô∏è  Expected Total Time: ~20-24 hours for all percentages
==============================

TensorFlow Container: /app1/common/singularity-img/hopper/tensorflow/tensorflow_2.16.1-cuda_12.5.0_24.06.sif

=== PRE-EXECUTION CHECKS ===
1. Checking dataset structure...
   ‚úì Dataset directories found
   ‚úì Images found: 1980 .tif files
   ‚úì Masks found: 1980 .tif files

2. Checking Python files...
   ‚úì Dataset size study script found
   ‚úì Models definition file found (with FIXED Jaccard)
==========================

=== TENSORFLOW & GPU STATUS ===
WARNING:tensorflow:From <string>:8: is_gpu_available (from tensorflow.python.framework.test_util) is deprecated and will be removed in a future version.
Instructions for updating:
Use `tf.config.list_physical_devices('GPU')` instead.
Python version: 3.10.12
TensorFlow version: 2.16.1
CUDA built support: True
GPU available: True
Physical GPUs found: 1
  GPU 0: PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')
‚úì GPU memory growth enabled
‚úì Basic GPU operation successful

Checking dependencies:
  ‚úì cv2
  ‚úì PIL
  ‚úì matplotlib
  ‚úì numpy
  ‚úì sklearn
  ‚úì pandas
  ‚úì focal_loss
===============================

=== PREPARING DATASET SIZE STUDY ===
Creating wrapper script with dependency handling...
‚úì Dataset size study wrapper script created
=============================

üî¨ STARTING COMPREHENSIVE DATASET SIZE STUDY
==============================================
üìä Testing dataset percentages: 10%, 20%, 50%, 75%, 100%
üéØ Goal: Find minimum dataset size for acceptable performance (Jaccard > 0.8)
üèóÔ∏è  Models: UNet, Attention UNet, Attention ResUNet
‚è±Ô∏è  Expected time: ~20-24 hours total
==============================================
üìÅ Main output directory: dataset_size_study_20250929_105320

=== MITOCHONDRIA DATASET SIZE SUFFICIENCY STUDY ===
üî¨ Testing multiple dataset sizes for acceptable performance

‚úì focal_loss already available

üéØ DATASET SIZE STUDY PLAN:
------------------------------
   10%: ~ 198 samples
   20%: ~ 396 samples
   50%: ~ 990 samples
   75%: ~1485 samples
  100%: ~1980 samples


============================================================
üî¨ RUNNING DATASET SIZE STUDY: 10% OF FULL DATASET
============================================================
‚ùå Failed study for 10% dataset: invalid decimal literal (<string>, line 108)

============================================================
üî¨ RUNNING DATASET SIZE STUDY: 20% OF FULL DATASET
============================================================
‚ùå Failed study for 20% dataset: invalid decimal literal (<string>, line 108)

============================================================
üî¨ RUNNING DATASET SIZE STUDY: 50% OF FULL DATASET
============================================================
‚ùå Failed study for 50% dataset: invalid decimal literal (<string>, line 108)

============================================================
üî¨ RUNNING DATASET SIZE STUDY: 75% OF FULL DATASET
============================================================
‚ùå Failed study for 75% dataset: invalid decimal literal (<string>, line 108)

============================================================
üî¨ RUNNING DATASET SIZE STUDY: 100% OF FULL DATASET
============================================================
‚ùå Failed study for 100% dataset: invalid decimal literal (<string>, line 108)

============================================================
üèÅ DATASET SIZE STUDY COMPLETED
============================================================
‚úÖ Successful runs: 0/5

üìã RESULTS SUMMARY:
  10% : Failed
  20% : Failed
  50% : Failed
  75% : Failed
  100%: Failed

üìÅ Individual results saved in respective output directories
üîç Check each directory for detailed analysis and visualizations

üì¶ Organizing study results...
No individual study directories to move

=======================================================================
üî¨ DATASET SIZE SUFFICIENCY STUDY COMPLETED
=======================================================================
Job finished on Mon Sep 29 10:53:36 AM +08 2025
Exit code: 0 ‚úì SUCCESS

‚úÖ Dataset size study completed successfully!

üìÅ Study results organized in: dataset_size_study_20250929_105320

üìä GENERATED ANALYSIS:
=====================
total 88
drwx------  2 phyzxi svuusers   51 Sep 29 10:53 .
drwxr-xr-x 18 phyzxi svuusers 3318 Sep 29 10:53 ..
-rw-------  1 phyzxi svuusers 2010 Sep 29 10:53 study_console_20250929_105320.log

üîç STUDY SUMMARY:
==================
üìã Dataset Size Study Results Summary:
--------------------------------------------------

üéØ SUFFICIENCY ANALYSIS:
-------------------------

üìÅ ALL STUDY RESULTS SAVED IN: dataset_size_study_20250929_105320
üìù CONSOLE LOG: dataset_size_study_20250929_105320/study_console_20250929_105320.log

=======================================
üî¨ DATASET SIZE SUFFICIENCY STUDY COMPLETE
Purpose: Determine minimum dataset requirements
Goal: Find dataset size for Jaccard > 0.8
=======================================
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
			Resource Usage on 2025-09-29 10:53:38.373702:
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
	JobId: 236816.stdct-mgmt-02
	Project: personal-phyzxi
	Exit Status: 0
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
	NCPUs: Requested(36), Used(36)
	CPU Time Used: 00:00:54
	Memory: Requested(240gb), Used(2867240kb)
	Vmem Used: 63897000kb
	Walltime: Requested(24:00:00), Used(00:00:44)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
	Execution Nodes Used: (GN-A40-078[0]:ncpus=36:ngpus=1:mem=251658240kb)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
	No GPU-related information available for this job.
